YUI.add("user-limits-helper",(function(e){var t=e.config.flickr.account.photo_limit,i=e.config.flickr.account.near_photo_limit,n=e.config.flickr.account.content_warning_till_deletion_delta;e.UserLimitsHelper={isNearUploadLimit:function(e,n){return n.getViewer().signedIn&&!n.getViewer().isPro&&e.getValue("photoCount")>=i&&e.getValue("photoCount")<t},isAtUploadLimit:function(e,i){return i.getViewer().signedIn&&!i.getViewer().isPro&&e.getValue("photoCount")===t},isOverUploadLimit:function(e,i){return i.getViewer().signedIn&&!i.getViewer().isPro&&e.getValue("photoCount")>t},isOverARRLimit:function(e,i){return i.getViewer().signedIn&&!i.getViewer().isPro&&this.getARRCount(e)>t},hasReachedNearUploadLimit:function(e,t){return this.isNearUploadLimit(e,t)||this.isAtUploadLimit(e,t)||this.isOverUploadLimit(e,t)},hasReachedUploadLimit:function(e,t){return this.isAtUploadLimit(e,t)||this.isOverUploadLimit(e,t)},remainingAvailableUploads:function(e,t){return t.getValue("uploadLimit")-e.getValue("photoCount")},getARRCount:function(e){var t=e.getValue("arrPhotoCount");return t>=0?t:e.getValue("photoCount")},hasBeenWarnedAboutContentDeletion:function(e,t){var i=t.getViewer().signedIn&&!t.getViewer().isPro,n=Number(e.getValue("contentRemovalWarnDate").format("X"));return 0!==n&&(i&&!Number.isNaN(n))},getDaysLeftBeforeContentDeletion:function(t,i){if(this.hasBeenWarnedAboutContentDeletion(t,i)){var o=e.moment().diff(t.getValue("contentRemovalWarnDate"),"days");return Math.max(n-o,0)}return Number.MAX_SAFE_INTEGER},hasReachedContentDeletionDate:function(e,t){return this.getDaysLeftBeforeContentDeletion(e,t)<=0}}}),"@VERSION@",{requires:["moment"]});YUI.add("html-file-dragdrop",(function(e){"use strict";var r="htmlFileDragDrop",o=r+"-drag-over",t=r+"-error",i=["image/png","image/jpeg"];e.HtmlFileDragDrop=function(r){e.config.win.File&&e.config.win.FileList&&e.config.win.FileReader&&r.dropZone&&(this.dropZone=e.one(r.dropZone),this.dropZone.on("dragover",this.handleDragOver.bind(this)),this.dropZone.on("dragleave",this.handleDragLeave.bind(this)),this.dropZone.on("drop",this.handleDrop.bind(this)))},e.HtmlFileDragDrop.prototype.reset=function(){this.dropZone.removeClass(t),this.dropZone.removeClass(o)},e.HtmlFileDragDrop.prototype.handleDragOver=function(e){e.halt(),this.reset(),this.dropZone.addClass(o)},e.HtmlFileDragDrop.prototype.handleDragLeave=function(e){e.halt(),this.reset()},e.HtmlFileDragDrop.prototype.showError=function(){this.dropZone.addClass(t)},e.HtmlFileDragDrop.prototype.handleDrop=function(e){var r;if(e.halt(),this.dropZone.removeClass(o),e._event.dataTransfer.files.length>1)return this.dropZone.addClass(t),void this.fire("drop",new Error("FILE_COUNT"));if((r=e._event.dataTransfer.files[0])&&r.name){if(i.indexOf(r.type)<0)return void this.fire("drop",new Error("FILE_TYPE"));this.fire("drop",r)}},e.augment(e.HtmlFileDragDrop,e.EventTarget,!0,null,{prefix:r})}),"@VERSION@",{affinity:"",requires:["event-custom"],optional:[]});YUI.add("hermes-template-photo-selector",(function(t,n){var l=t.Template.Handlebars.revive({1:function(t,n,l,e,a){return'\t\t<div class="photo-selector-search-list-yours">\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},3:function(t,n,l,e,a){return'\t\t<div class="photo-selector-search-list-contacts">\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},5:function(t,n,l,e,a){return'\t\t<div class="photo-selector-search-list-everyone">\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},7:function(t,n,l,e,a){return'\t\t<div class="photo-selector-search-list-marketplace"\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},9:function(t,n,l,e,a){var s,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="photo-selector-upload is-hiding">\n'+(null!=(s=o(l,"if").call(null!=n?n:t.nullContext||{},null!=n?o(n,"canUpload"):n,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.program(12,a,0),data:a,loc:{start:{line:60,column:1},end:{line:78,column:8}}}))?s:"")+"</div>\n"},10:function(t,n,l,e,a){var s=null!=n?n:t.nullContext||{},o=t.hooks.helperMissing,i=t.escapeExpression,c=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t<p class="upload-error"></p>\n\t\t<div class="drop-zone">\n\t\t\t<div class="drop-zone-content">\n\t\t\t\t<div class="balls"></div>\n\t\t\t\t<input type="file" class="file-select" name="file-select" accept="image/jpeg, image/png" />\n\t\t\t\t<p><i class="upload-icon"></i>'+i((c(l,"intlHTMLMessage")||n&&c(n,"intlHTMLMessage")||o).call(s,{name:"intlHTMLMessage",hash:{intlName:"wallart.DRAG_DROP_TO_UPLOAD"},data:a,loc:{start:{line:66,column:34},end:{line:66,column:92}}}))+"</p>\n\t\t\t\t<p>"+i((c(l,"intlHTMLMessage")||n&&c(n,"intlHTMLMessage")||o).call(s,{name:"intlHTMLMessage",hash:{intlName:"wallart.PHOTOS_UPLOADED_AS_PRIVATE"},data:a,loc:{start:{line:67,column:7},end:{line:67,column:72}}}))+'</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<ul class="preview"></ul>\n'},12:function(t,n,l,e,a){var s=null!=n?n:t.nullContext||{},o=t.hooks.helperMissing,i=t.escapeExpression,c=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t<div class="cant-upload">\n\t\t\t<div class="cant-upload-message">\n\t\t\t\t<span>'+i((c(l,"intlMessage")||n&&c(n,"intlMessage")||o).call(s,{name:"intlMessage",hash:{limitCount:(c(l,"intlNumber")||n&&c(n,"intlNumber")||o).call(s,1e3,{name:"intlNumber",hash:{},data:a,loc:{start:{line:74,column:89},end:{line:74,column:106}}}),intlName:"upload-blocking.YOUVE_REACHED_UPLOAD_LIMIT"},data:a,loc:{start:{line:74,column:10},end:{line:74,column:108}}}))+'</span>\n\t\t\t\t<a href="/account/upgrade/pro/">'+i((c(l,"intlMessage")||n&&c(n,"intlMessage")||o).call(s,{name:"intlMessage",hash:{intlName:"common.GET_PRO"},data:a,loc:{start:{line:75,column:36},end:{line:75,column:77}}}))+"</a>\n\t\t\t</div>\n\t\t</div>\n"},14:function(t,n,l,e,a){return'<div class="group-photo-selector-photos-wrapper">\n\t<div class="group-photo-selector-photos photo-selector-photos">\n\t\t<div class="group-photo-selector-photos-container">\n\t\t</div>\n\t</div>\n</div>\n'},compiler:[8,">= 4.3.0"],main:function(t,n,l,e,a){var s,o=null!=n?n:t.nullContext||{},i=t.hooks.helperMissing,c=t.escapeExpression,r=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return c((r(l,"outlet")||n&&r(n,"outlet")||i).call(o,null!=n?r(n,"fluid-modal-nav-bar-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:35}}}))+'\n\n<div class="photo-selector-title-bar hidden">\n\t<div class="back-to-list">\n\t\t<div class="back-to-list-icon"><svg class="icon icon-back"><use xlink:href="#icon-back"></use></svg></div>\n\t\t<div class="back-to-list-text">'+c((r(l,"intlMessage")||n&&r(n,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"},data:a,loc:{start:{line:6,column:33},end:{line:6,column:100}}}))+'</div>\n\t</div>\n\t<div class="title"></div>\n</div>\n\n<div class="photo-selector-photos-wrapper">\n\t<div class="photo-selector-photos">\n\t\t<div class="photo-selector-photos-container">\n\t\t\t<div class="loader"><div class="balls"></div></div>\n\t\t</div>\n\t</div>\n</div>\n\n\n<div class="photo-selector-search-lists-wrapper is-hiding">\n'+(null!=(s=r(l,"if").call(o,null!=(s=null!=n?r(n,"searchable"):n)?r(s,"yours"):s,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:21,column:1},end:{line:28,column:8}}}))?s:"")+"\n"+(null!=(s=r(l,"if").call(o,null!=(s=null!=n?r(n,"searchable"):n)?r(s,"contacts"):s,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:30,column:1},end:{line:37,column:8}}}))?s:"")+"\n"+(null!=(s=r(l,"if").call(o,null!=(s=null!=n?r(n,"searchable"):n)?r(s,"everyone"):s,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:39,column:1},end:{line:46,column:8}}}))?s:"")+"\n"+(null!=(s=r(l,"if").call(o,null!=(s=null!=n?r(n,"searchable"):n)?r(s,"marketplace"):s,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:48,column:1},end:{line:55,column:8}}}))?s:"")+"</div>\n\n"+(null!=(s=r(l,"if").call(o,null!=n?r(n,"hasUploadCapabilities"):n,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:58,column:0},end:{line:80,column:7}}}))?s:"")+"\n"+(null!=(s=r(l,"if").call(o,null!=n?r(n,"hasGroupCapabilities"):n,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a,loc:{start:{line:82,column:0},end:{line:89,column:7}}}))?s:"")+"\n"+c((r(l,"outlet")||n&&r(n,"outlet")||i).call(o,null!=n?r(n,"basic-confirm-actions-view"):n,{name:"outlet",hash:{},data:a,loc:{start:{line:91,column:0},end:{line:91,column:37}}}))+"\n"},useData:!0}),e={};t.Array.each([],(function(n){var l=t.Template.get("hermes/"+n);l&&(e[n]=l)})),t.Template.register("hermes/photo-selector",(function(n,a){return(a=a||{}).partials=a.partials?t.merge(e,a.partials):e,l(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-infinite-scroll-load-more",(function(e,a){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,t,n,l){var r=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="infinite-scroll-load-more">\n\t<button class="alt">'+e.escapeExpression((r(t,"intlMessage")||a&&r(a,"intlMessage")||e.hooks.helperMissing).call(null!=a?a:e.nullContext||{},{name:"intlMessage",hash:{intlName:"common.LOAD_MORE_RESULTS"},data:l,loc:{start:{line:2,column:21},end:{line:2,column:72}}}))+"</button>\n</div>"},useData:!0}),n={};e.Array.each([],(function(a){var t=e.Template.get("hermes/"+a);t&&(n[a]=t)})),e.Template.register("hermes/infinite-scroll-load-more",(function(a,l){return(l=l||{}).partials=l.partials?e.merge(n,l.partials):n,t(a,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-license-detail",(function(e,a){var l=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,l,n,t){var s=null!=a?a:e.nullContext||{},r=e.hooks.helperMissing,i=e.escapeExpression,o=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<p class="secondary" style="margin-top: 0;">'+i((o(l,"intlMessage")||a&&o(a,"intlMessage")||r).call(s,{name:"intlMessage",hash:{intlName:null!=a?o(a,"title"):a},data:t,loc:{start:{line:1,column:44},end:{line:1,column:74}}}))+'</p>\n<p class="secondary" style="margin-bottom: 0;">'+i((o(l,"intlMessage")||a&&o(a,"intlMessage")||r).call(s,{name:"intlMessage",hash:{intlName:null!=a?o(a,"body"):a},data:t,loc:{start:{line:2,column:47},end:{line:2,column:76}}}))+"</p>\n"},useData:!0}),n={};e.Array.each([],(function(a){var l=e.Template.get("hermes/"+a);l&&(n[a]=l)})),e.Template.register("hermes/license-detail",(function(a,t){return(t=t||{}).partials=t.partials?e.merge(n,t.partials):n,l(a,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-adult-content-photo-overlay",(function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,t,a){return" compact"},3:function(n,e,l,t,a){return" large"},5:function(n,e,l,t,a){return" with-nsfw-2024"},7:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"width:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerWidth")||(null!=e?r(e,"containerWidth"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerWidth",hash:{},data:a,loc:{start:{line:6,column:37},end:{line:6,column:55}}}):o)+"px;"},9:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"height:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerHeight")||(null!=e?r(e,"containerHeight"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerHeight",hash:{},data:a,loc:{start:{line:7,column:39},end:{line:7,column:58}}}):o)+"px;"},11:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"min-height:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerMinHeight")||(null!=e?r(e,"containerMinHeight"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerMinHeight",hash:{},data:a,loc:{start:{line:8,column:46},end:{line:8,column:68}}}):o)+"px;"},13:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"max-width:"+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"containerMaxWidth")||(null!=e?r(e,"containerMaxWidth"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"containerMaxWidth",hash:{},data:a,loc:{start:{line:9,column:44},end:{line:9,column:65}}}):o)+"px;"},15:function(n,e,l,t,a){var o,r,i=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,c="function",u=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<a class="nsfw-overlay-bg'+(null!=(o=(p(l,"isFlipped")||e&&p(e,"isFlipped")||s).call(i,"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(16,a,0),inverse:n.noop,data:a,loc:{start:{line:12,column:27},end:{line:12,column:99}}}))?o:"")+'" href="'+u(typeof(r=null!=(r=p(l,"photoUrl")||(null!=e?p(e,"photoUrl"):e))?r:s)===c?r.call(i,{name:"photoUrl",hash:{},data:a,loc:{start:{line:12,column:107},end:{line:12,column:119}}}):r)+'" data-photo-id="'+u(typeof(r=null!=(r=p(l,"photoId")||(null!=e?p(e,"photoId"):e))?r:s)===c?r.call(i,{name:"photoId",hash:{},data:a,loc:{start:{line:12,column:136},end:{line:12,column:147}}}):r)+'"></a>\n'},16:function(n,e,l,t,a){return" photo-thumb-interstitial"},18:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<span class="nsfw-overlay-bg photo-thumb-interstitial" data-photo-id="'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"photoId")||(null!=e?r(e,"photoId"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"photoId",hash:{},data:a,loc:{start:{line:15,column:72},end:{line:15,column:83}}}):o)+'"></span>\n'},20:function(n,e,l,t,a){return" clickable"},22:function(n,e,l,t,a){return'\t\t\t<svg class="icon icon-warning warning-icon"><use xlink:href="#icon-warning"></use></svg>\n'},24:function(n,e,l,t,a){var o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<p class="message">'+n.escapeExpression((i(l,"renderTrustedMarkup")||e&&i(e,"renderTrustedMarkup")||r).call(o,(i(l,"preventOrphansHtml")||e&&i(e,"preventOrphansHtml")||r).call(o,null!=e?i(e,"detailsMessage"):e,{name:"preventOrphansHtml",hash:{},data:a,loc:{start:{line:28,column:44},end:{line:28,column:79}}}),{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:28,column:22},end:{line:28,column:81}}}))+"</p>\n"},26:function(n,e,l,t,a){var o,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<button class="cta">'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"ctaMessage")||(null!=e?r(e,"ctaMessage"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"ctaMessage",hash:{},data:a,loc:{start:{line:32,column:23},end:{line:32,column:37}}}):o)+"</button>\n"},28:function(n,e,l,t,a){var o=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t\t<p class="message bottom-message">'+n.escapeExpression((i(l,"renderTrustedMarkup")||e&&i(e,"renderTrustedMarkup")||r).call(o,(i(l,"preventOrphansHtml")||e&&i(e,"preventOrphansHtml")||r).call(o,null!=e?i(e,"bottomMessage"):e,{name:"preventOrphansHtml",hash:{},data:a,loc:{start:{line:36,column:59},end:{line:36,column:93}}}),{name:"renderTrustedMarkup",hash:{},data:a,loc:{start:{line:36,column:37},end:{line:36,column:95}}}))+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,a){var o,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="adult-content-photo-overlay\n\t'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"isCompact"):e,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:2,column:1},end:{line:2,column:33}}}))?o:"")+"\n\t"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"isLarge"):e,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:1},end:{line:3,column:29}}}))?o:"")+"\n\t"+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||i).call(r,"enable-nsfw-2024",{name:"isFlipped",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:4,column:1},end:{line:4,column:63}}}))?o:"")+'"\n\tstyle="\n\t\t'+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerWidth"):e,{name:"ifDefined",hash:{},fn:n.program(7,a,0),inverse:n.noop,data:a,loc:{start:{line:6,column:2},end:{line:6,column:72}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerHeight"):e,{name:"ifDefined",hash:{},fn:n.program(9,a,0),inverse:n.noop,data:a,loc:{start:{line:7,column:2},end:{line:7,column:75}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerMinHeight"):e,{name:"ifDefined",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:8,column:2},end:{line:8,column:85}}}))?o:"")+"\n\t\t"+(null!=(o=(c(l,"ifDefined")||e&&c(e,"ifDefined")||i).call(r,null!=e?c(e,"containerMaxWidth"):e,{name:"ifDefined",hash:{},fn:n.program(13,a,0),inverse:n.noop,data:a,loc:{start:{line:9,column:2},end:{line:9,column:82}}}))?o:"")+'\n\t\t">\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"photoUrl"):e,{name:"if",hash:{},fn:n.program(15,a,0),inverse:n.program(18,a,0),data:a,loc:{start:{line:11,column:1},end:{line:16,column:8}}}))?o:"")+'\t<div class="content-container'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"ctaMessage"):e,{name:"if",hash:{},fn:n.program(20,a,0),inverse:n.noop,data:a,loc:{start:{line:17,column:30},end:{line:17,column:65}}}))?o:"")+'">\n\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"showIcon"):e,{name:"if",hash:{},fn:n.program(22,a,0),inverse:n.noop,data:a,loc:{start:{line:19,column:2},end:{line:21,column:9}}}))?o:"")+'\n\t\t<div class="eighteen-plus">18+</div>\n\n\t\t<h1 class="nsfw-overlay-title">'+s((c(l,"intlMessage")||e&&c(e,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"adult-content-overlay.ADULT_CONTENT"},data:a,loc:{start:{line:25,column:33},end:{line:25,column:95}}}))+'</h1>\n\t\t<p class="message main-message">'+s((c(l,"preventOrphans")||e&&c(e,"preventOrphans")||i).call(r,(c(l,"intlMessage")||e&&c(e,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"adult-content-overlay.MATURE_AUDIENCES"},data:a,loc:{start:{line:26,column:51},end:{line:26,column:114}}}),{name:"preventOrphans",hash:{},data:a,loc:{start:{line:26,column:34},end:{line:26,column:116}}}))+"</p>\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"detailsMessage"):e,{name:"if",hash:{},fn:n.program(24,a,0),inverse:n.noop,data:a,loc:{start:{line:27,column:2},end:{line:29,column:9}}}))?o:"")+"\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"ctaMessage"):e,{name:"if",hash:{},fn:n.program(26,a,0),inverse:n.noop,data:a,loc:{start:{line:31,column:2},end:{line:33,column:9}}}))?o:"")+"\n"+(null!=(o=c(l,"if").call(r,null!=e?c(e,"bottomMessage"):e,{name:"if",hash:{},fn:n.program(28,a,0),inverse:n.noop,data:a,loc:{start:{line:35,column:2},end:{line:37,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),t={};n.Array.each([],(function(e){var l=n.Template.get("hermes/"+e);l&&(t[e]=l)})),n.Template.register("hermes/adult-content-photo-overlay",(function(e,a){return(a=a||{}).partials=a.partials?n.merge(t,a.partials):t,l(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-list-layout-row",(function(t){(t.PhotoListLayoutRow=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.additionalHeight=t.additionalHeight||0,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight||Number.NEGATIVE_INFINITY,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight||Number.POSITIVE_INFINITY,this.rightToLeft=t.rightToLeft,this.isBreakoutRow=t.isBreakoutRow,this.staticViewsConfig=t.staticViewsConfig,this.items=[],this.height=0}).prototype={addItem:function(i){var e,h,s,o=this.items.concat(i),a=this.width-(o.length-1)*this.spacing,g=o.reduce((function(t,i){return t+i.aspectRatio}),0),n=a/this.targetRowHeight;return i.isStaticItem&&this.staticViewsConfig&&this.staticViewsConfig.isFullRow?0===this.items.length&&(this.items.push(t.merge(i)),this._completeLayout(i.fullRowMinHeight||this.targetRowHeight),!0):(this.isBreakoutRow||this.isStaticItem&&!this.staticViewsConfig.isFullRow)&&0===this.items.length&&i.aspectRatio>=1?(this.items.push(t.merge(i)),this._completeLayout(a/i.aspectRatio),!0):0!==g&&(g<this.minAspectRatio?(this.items.push(t.merge(i)),!0):g>this.maxAspectRatio?i.isStaticItem||0===this.items.length?(this.items.push(t.merge(i)),this._completeLayout(a/g),!0):(e=this.width-(this.items.length-1)*this.spacing,h=this.items.reduce((function(t,i){return t+i.aspectRatio}),0),s=e/this.targetRowHeight,Math.abs(g-n)>Math.abs(h-s)?(this._completeLayout(e/h),!1):(this.items.push(t.merge(i)),this._completeLayout(a/g),!0)):(this.items.push(t.merge(i)),this._completeLayout(a/g),!0))},forceComplete:function(t,i){var e=this.width-(this.items.length-1)*this.spacing,h=this.items.reduce((function(t,i){return t+i.aspectRatio}),0);"number"==typeof i?this._completeLayout(i-this.additionalHeight,!1):t?this._completeLayout(e/h):this._completeLayout(this.targetRowHeight-this.additionalHeight,!1)},isLayoutComplete:function(){return this.height>0},getItems:function(){return this.rightToLeft?this.items.reverse():this.items},getIndexOfItem:function(t){var i=-1;return this.items.some((function(e,h){if(e.id===t)return i=h,!0})),i},setTop:function(t){this.top=t,this.items.forEach((function(i){i.geometry.top=t}))},_completeLayout:function(t,i){var e,h,s,o,a,g,n=this.rightToLeft?-this.left:this.left,r=this.width-(this.items.length-1)*this.spacing,m=this;void 0===i&&(i=!0),(h=Math.round(t))!==(s=Math.max(this.edgeCaseMinRowHeight,Math.min(h,this.edgeCaseMaxRowHeight)))?(this.height=s,e=r/s/(r/h)):(this.height=h,e=1),this.items.forEach((function(t,i){t.geometry={top:m.top,width:Math.round(t.aspectRatio*m.height*e),height:m.height+m.additionalHeight},m.rightToLeft?t.geometry.left=m.width-n-t.geometry.width:t.geometry.left=n,n+=t.geometry.width+m.spacing})),this.height+=m.additionalHeight,i&&(this.rightToLeft||(n-=this.spacing+this.left),o=(n-this.width)/this.items.length,a=this.items.map((function(t,i){return Math.round((i+1)*o)})),1===this.items.length?((g=this.items[0].geometry).width-=Math.round(o),this.rightToLeft&&(g.left+=Math.round(o))):this.items.forEach((function(t,i){i>0?(t.geometry.left-=a[i-1],t.geometry.width-=a[i]-a[i-1]):t.geometry.width-=a[i]})))}}}),"@VERSION@",{requires:[]});